# 【不计分】N进制转换 (decimal.c)

## 题目描述

给出一个长度为 len 的 N 进制字符串 s（不一定合法） ，请你输出它表示的十进制数字。

若 N = 2，则**合法**二进制字符串只包含 0 和 1，如"1001" 和 "01011" 是合法的二进制串，而 "2010101" 则是不合法的。

若 N = 16，则**合法**十六进制字符串包含 0123456789ABCDEF，其中 A~F 分别代表十进制中的 10~15 。

一个合法的 N 进制串 $s_{len-1}s_{len-2}…s_{1}s_{0}$ 所表示的十进制数为 $s_0N^0+s_1N^1+…+s_{len-1}N^{len-1}$

### 输入格式

输入包含两行，

第一行包括两个整数 len 和 N，以空格隔开，其中 $1 \leq len \leq 30, 2 \leq N \leq 16$

第二行为一个长度为 len 的字符串 s，表示需要转换的 N 进制字符串（**不一定合法**）；

输入数据保证该字符串中只可能含有**26**个大写字母和10个阿拉伯数字。

### 输出格式

若 N 进制字符串合法，输出一个整数，表示其对应的十进制数，输入数据保证该十进制数在`int`范围内；

若 N 进制字符串不合法，输出 "Error"。（即 `printf("Error");` )

### 测试样例

##### Input

------

```
4 2
1001
```

##### Output

------

```
9
```

##### Input

------

```
7 2
2010101
```

##### Output

------

```
Error
```

##### Input

------

```
5 16
1BF52
```

##### Output

------

```
114514
```





## 题解

### 思路

本题要求将一个N进制的字符串转换为十进制。我们可以根据N进制的定义，从字符串的最低位开始，依次计算每个位上的权重并将其累加到结果中。如果字符串中包含不合法的字符，我们将输出 "Error"。

### 解题方法

1. 读取输入的长度 len 和进制 N。
2. 读取N进制字符串 s。
3. 初始化一个变量 `decimal` 用于存储最终的十进制结果，并初始化一个 `power` 用于表示当前位的权重，初始值为1。
4. 从字符串的最低位开始，逆序遍历字符串。
5. 对于每个字符，使用 `charToDigit` 函数将其转换为对应的十进制数值。
6. 检查字符是否合法，即其值是否小于 N。如果字符不合法，输出 "Error" 并退出程序。
7. 将字符对应的十进制值乘以当前位的权重并累加到 `decimal` 中。
8. 更新 `power` 为下一位的权重，即 `power` 乘以 N。
9. 最终，输出 `decimal` 即为N进制字符串对应的十进制数。

### 复杂度

- 时间复杂度：遍历字符串需要线性时间复杂度，$O(len)$。

- 空间复杂度：除了输入和常数变量外，不需要额外的空间，$O(1)$。

### Code

```c

```

