# 最大值区间 (max.c)

## 题目描述

给出一个长度为 n 的序列 $a_1 ,a_2 ,⋯,a_n$，保证所有的 $a_i$  都互不相同。我们定义 $a_p$ 的最大值区间为最长的 $[s,t] (s⩽p⩽t)$，满足 $∀q∈[s,t]，q为正整数，a_p⩾a_q$，即 $a_p$ 是数列在该下标区间上的最大值，其具体计算方法如下：

- 对于区间 $[l,r]$，找出其最大值所在的位置 p，最大值为 $a_p$，则我们认为 $a_p$ 的最大值区间为 $[l,r]$。

- 删去元素 $a_p$，原序列变成两个新的序列 $[l,p−1]$ 和 $[p+1,r]$（也有可能 $p=l∨p=r$，此时只有一个新序列；也有可能 l=r，想想此时会发生什么？），继续对产生的新序列执行上一步操作。

- 容易发现，每进行一次“删数”的操作，原序列中就会减少 1 个数，当进行 n 次操作之后，序列为空，此时就得到了所有 $a_i$ 的 最大值区间 。

- 特别的，我们认为 $[1,n]$ 中的最大值 $a_p$ 的最大值区间为 $[1,n]$。

请你找出给出的序列中所有数的 最大值区间 。

### 输入格式

输入一共包含两行。

第一行为一个整数 n ($1≤n≤10^5$)， 表示序列长度。

第二行为 n 个整数 $a_1,a_2,⋯,a_n (1≤a_i≤10^9)$，分别表示序列中的每一个数，保证所有的 $a_i$ 互不相同，且数据纯随机生成。

### 输出格式

输出一共包含 n 行，每行两个整数 $l_i,r_i$，第 i 行的输出表示 $a_i$ 的最大值区间为 $[l_i,r_i]$。

### 测试样例

##### Input

------

```
5
1 3 5 2 4
```

##### Output

------

```
1 1
1 2
1 5
4 4
4 5
```

##### Input

------

```
6
508753540 511698990 20731611 707259821 864772696 507416561
```

##### Output

------

```
1 1
1 3
3 3
1 4
1 6
6 6
```



## 思路

这道题目的核心思路是找到序列中每个元素的“最大值区间”。具体来说，就是对于序列中的每个元素 `a[i]`，我们需要找到一个最长的区间 `[l, r]`（其中 `l ≤ i ≤ r`），使得在这个区间内，没有任何一个元素的值大于 `a[i]`。换句话说，`a[i]` 在这个区间内是最大的。

实现这一思路的关键在于对于每个元素 `a[i]`，分别向左和向右扩展区间，直到遇到第一个比 `a[i]` 大的元素。这个过程可以分为以下几个步骤：

1. **初始化序列和变量**：首先读入序列的长度 `n` 和序列本身。对于每个元素 `a[i]`，我们将初始化一个对应的最大值区间 `[l, r]`。

2. **遍历序列中的每个元素**：对于序列中的每个元素 `a[i]`：
   - **向左搜索**：从位置 `i` 开始向左遍历，直到找到第一个比 `a[i]` 大的元素，或者到达序列的开头。这一步确定了 `a[i]` 的最大值区间的左边界 `l`。
   - **向右搜索**：从位置 `i` 开始向右遍历，直到找到第一个比 `a[i]` 大的元素，或者到达序列的末尾。这一步确定了 `a[i]` 的最大值区间的右边界 `r`。

3. **输出结果**：对于每个元素 `a[i]`，输出它的最大值区间 `[l, r]`。

这个算法的时间复杂度是 O(n^2)。对于序列中的每个元素 `a[i]`，我们可能需要遍历整个序列来确定其最大值区间。这种方法在序列较短时效率较高，但在序列较长时可能会变得较慢。不过，由于这种方法直接且容易实现，它是解决这个问题的一个很好的起点。
