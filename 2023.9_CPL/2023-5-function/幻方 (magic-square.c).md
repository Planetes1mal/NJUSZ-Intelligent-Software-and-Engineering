# 幻方 (magic-square.c)

## 题目描述

幻方（Magic Square）是一种将数字安排在正方形格子中，使每行、列和对角线上的数字和都相等的方法。

例如三阶幻方：
$$
\left|
\begin{array}{ccc}
8 & 1 & 6 \\
3 & 5 & 7 \\
4 & 9 & 2 \\
\end{array}
\right|
$$
现给出幻方阶数 n，保证 n 为奇数。要求输出一个 n 阶幻方。

Siamese方法（Kraitchik 1942年，pp. 148-149）是构造奇数阶幻方的一种方法，说明如下：

- 把 1 放置在第一行的中间。
- 顺序将 2,3,... 等数放在前一个数的右上方格中。
- 当右上方格出界的时候，则由另一边（左侧、下侧）进入。
- 当右上方格中已经填有数，则把数填入前一个数的正下方的方格中。
- 按照以上步骤直到填写完所有 $n^2$ 个方格。

（由于幻方的对称性，也可以把右上改为右下、左上以及左下等方位）

以上面的三阶幻方为例，1居于第一行正中央，向右上放2超出上边界，从下侧进入。向右上放3超出右边界，从左侧进入。向右上放4，已经被1占有，放在3下面。向右上放5，6，放7时超出右上边界从左下进入，已经被4占有，于是放在6下面......

### 输入格式
一个整数，表示幻方阶数 （$3⩽n⩽999$），保证 n 为奇数。

### 输出格式
共 n 行，每行 n 个数以空格隔开，代表幻方。

可能有多种符合条件的输出，如轴对称、旋转后的幻方，你只需要输出一种。

### 测试样例

##### Input

------

```
3
```

##### Output

------

```
8 1 6
3 5 7
4 9 2
```



## 思路

1. **初始化魔方：**

   - 创建一个 n x n 的二维数组，初始化所有元素为 0。

   - 选择一个数字开始，通常是 1。

2. **放置第一个数字：**
   - 将数字 1 放在第一行的中间位置。

3. **顺序放置其他数字：**

   - 按照 2, 3, 4, ... 的顺序，直到 $n^2$，放置其余的数字。

   - 对于每一个新的数字，我们尝试把它放在当前数字的右上方。

   - 如果右上方的位置在魔方外面，我们会从相对的边回到魔方里。例如，如果行数超出了上边界，我们会移到最下面的行；如果列数超出了右边界，我们会移到最左边的列。

   - 如果右上方的位置已经被其他数字填满，我们会把新的数字放在当前数字的正下方。

4. **输出魔方：**
   - 最后，程序会打印出完整的魔方，每行的数字用空格分隔。