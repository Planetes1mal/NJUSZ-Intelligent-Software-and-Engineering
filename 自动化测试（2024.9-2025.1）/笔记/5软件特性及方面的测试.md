# 5 软件特性及方面的测试

对于一些大规模的复杂软件系统，针对软件运行效率的测试非常重要：负载测试、压力测试、容量测试、性能测试

## 5.1 压力测试

压力测试是在强负载（大数据量、大量并发用户等）下的测试，查看应用系统在峰值使用情况下操作行为，从而有效地发现系统的某项功能隐患、系统是否具有良好的容错能力和可恢复能力

压力测试分为：稳定性压力测试（高负载下的长时间测试）、破坏性压力测试（极限负载情况下导致系统崩溃的测试）

## 5.2 负载测试

通过测试系统在资源超负荷情况下的表现，以发现设计上的错误或验证系统的负载能力。
方式：使测试对象承担不同的工作量，以评测和评估测试对象在不同工作量条件下的性能行为，以及持续正常运行的能力。
目标：确定并确保系统在超出最大预期工作量的情况下仍能正常运行。同时评估性能特征：如响应时间、事务处理速率和其他与时间相关的方面。 

## 5.3 性能测试

通过自动化的测试工具模拟多种正常、峰值以及异常负载条件来对系统的各项性能指标进行测试。

目标：

- 验证软件系统是否能够达到用户提出的性能指标，同时发现软件系统中存在的性能瓶颈，优化软件，最后起到优化系统的目的。测试中得到的负荷和响应时间数据可以被用于验证所计划的模型的能力，并帮助作出决策。
- 识别体系中的弱点：受控的负荷可以被增加到一个极端的水平，并突破它，从而修复体系的瓶颈或薄弱的地方。
- 系统调优：重复运行测试，验证调整系统的活动得到了预期的结果，从而改进性能。检测软件中的问题：长时间的测试执行可导致程序发生由于内存泄露引起的失败，揭示程序中的隐含的问题或冲突。
- 验证稳定性（resilience）可靠性（reliability）：在一个生产负荷下执行测试一定的时间是评估系统稳定性和可靠性是否满足要求的唯一方法。

类型：负载测试，强度测试，容量测试

性能测试三个方面：

- 应用在客户端性能的测试：目的是考察客户端应用的性能，测试的入口是客户端。它主要包括并发性能测试、疲劳强度测试、大数据量测试和速度测试等，其中并发性能测试是重点
- 应用在网络上性能的测试：重点是利用成熟先进的自动化技术进行网络应用性能监控、网络应用性能分析和网络预测。
- 应用在服务器上性能的测试：对于应用在服务器上性能的测试，可以采用工具监控，也可以使用系统本身的监控命令，例如Tuxedo中可以使用Top命令监控资源使用情况。实施测试的目的是实现服务器设备、服务器操作系统、数据库系统、应用在服务器上性能的全面监控

步骤：制定目标和分析系统；选择测试度量的方法；学习相关技术和工具；制定评估标准；设计测试用例；运行测试用例；分析测试结果

负载测试、压力测试和性能测试的异同

- 压力测试可以被看作是负载测试的一种，即高负载下的负载测试，或者说压力测试采用负载测试技术。通过压力测试，可以更快地发现内存泄漏问题，还可以更快地发现影响系统稳定性的问题
- 负载测试是为了发现系统的性能问题，需要通过系统性能特性或行为来发现问题，从而为性能改进提供帮助，从这个意义看，负载测试可以看作性能测试的一部分。
  但两者的目的不同：
  负载测试是为了发现缺陷；
  性能测试是为了获取性能指标；
  因为性能测试过程中，也可以不调整负载，而是在同样负载情况下改变系统的结构、改变算法、改变硬件配置等等来得到性能指标数据，从这个意义看，负载测试可以看作是性能测试所c的一种技术，即性能测试使用负载测试的技术、使用负载测试的工具。性能测试要获得在不同的负载情况下的性能指标数据
- 通过负载测试和压力测试都可以获得系统正常工作时的极限负载或最大容量。容量测试，自然也是采用负载测试技术来实现，而在破坏性的压力测试中，容量的确定可以看作是一种副产品——间接结果。
  综合所述，负载测试、压力测试和性能测试的概念可以概括如下：
  负载测试是通过改变系统负载方式、增加负载等来发现系统中所存在的性能问题。负载测试是一种测试方法，可以为性能测试、压力测试所采用。负载测试的加载方式也有很多种，可以根据测试需要来选择。
  性能测试是为获取或验证系统性能指标而进行测试。多数情况下，性能测试会在不同负载情况下进行。
  压力测试通常是在高负载情况下来对系统的稳定性进行测试，更有效地发现系统稳定性的隐患和系统在负载峰值的条件下功能隐患等。

## 5.4 可靠性测试

可靠性测试是在给被测试系统加载一定业务压力的情况下，使系统运行一段时间，以此来测试系统是否稳定。
软件可靠性包含三个因素：规定的时间、规定的环境条件、规定的功能

可靠性测试的测试方法

- 对构成软件的各个组件进行压力测试
- 使用集中压力测试
- 使用真实环境测试
- 使用随机破坏测试

## 5.5 容量测试

容量：可以看作系统性能指标中一个特定环境下的一个特定性能指标，即设定的界限或极限值。
容量测试目的是通过测试预先分析出反映软件系统应用特征的某项指标的极限值（如最大并发用户数、数据库记录数等），系统在其极限值状态下没有出现任何软件故障或还能保持主要功能正常运行。
容量测试还将确定测试对象在给定时间内能够持续处理的最大负载或工作量。

作用：

- 让软件开发商或用户了解该软件系统的承载能力或提供服务的能力。如某个电子商务网站所能承受的、同时进行交易或结算的在线用户数。
- 知道了系统的实际容量，如果不能满足设计要求，就应该寻求新的技术解决方案，以提高系统的容量。
- 有了对软件负载的准确预测，就会对软件系统在实际使用中的性能状况充满信心，同时也可以帮助用户经济地规划应用系统，优化系统的部署。

## 5.6 安全性测试

在测试软件系统中危险防止和危险处理设施进行的测试，以验证其是否有效。

安全性测试应包括（工作内容）
全面检验软件在软件需求规格说明中规定的防止危险状态措施的有效性和在每一个危险状态下的反应；
对软件设计中用于提高安全性的结构、算法、容错、冗余、中断处理等方案，进行针对性测试；
在异常条件下测试软件，以表明不会因可能的单个或多个输入错误而导致不安全状态。
用错误的安全性关键操作进行测试，以验证系统对这些操作错误的反应；
对安全性关键的软件单元和软件部件，要单独进行加强的测试，以确认其满足安全性需求。

方法：
1. 功能验证
     功能验证是采用软件测试当中的黑盒测试方法,对涉及安全的软件功能,如：用户管理模块，权限管理，加密系统，认证系统等进行测试，主要验证上述功能是否有效。
2. 漏洞扫描
     安全漏洞扫描主要是借助于特定的漏洞扫描器完成的。通过使用漏洞扫描器，系统管理员能够发现系统存在的安全漏洞，从而在系统安全中及时修补漏洞的措施。一般漏洞扫描分为两种类型:主机漏洞扫描器是指在系统本地运行检测系统漏洞的程序。网络漏洞扫描器是指基于网络远程检测目标网络和主机系统漏洞的程序。
3. 模拟攻击
     对于安全测试来说，模拟攻击测试是一组特殊的极端的测试方法，我们以模拟攻击来验证软件系统的安全防护能力

内容：

1. 应用程序安全测试

   - 包括对数据或业务功能的访问，在预期的安全性情况下，操作者只能访问应用程序的特定功能、有限的数据。
     - 其测试是核实操作者只能访问其所属用户类型已被授权访问的那些功能或数据。
     - 测试时，确定有不同权限的用户类型，创建各用户类型并用各用户类型所特有的事务来核实其权限，最后修改用户类型并为相同的用户重新运行测试。 
     - 功能验证
           1.有效的密码是否接受，无效的密码是否拒绝。
           2.系统对于无效用户或密码登陆是否有提示。
           3.用户是否会自动超时退出，超时的时间是否合理。
           4.各级用户权限划分是否合理。 
       模拟攻击：系统是否允许极端或不正常的登陆方式访问。（如不通过登入页面，直接输入URL,看其是否能够进入）
   - 确保只有具备系统访问权限的用户才能访问应用程序，而且只能通过相应的网关来访问，包括对系统的登录或远程访问。
     其测试是核实只有具备系统和应用程序访问权限的操作者才能访问系统和应用程序。 
     帐号和口令、网络与服务、文件系统、日志审核 、其它安全设置

2. 操作系统安全测试

   - 帐号和口令：对主机或域上用户强制进行口令复杂度。检查系统是否使用默认管理员帐号。检查在系统中是否存在可疑或与系统无关的帐号。检查系统用户是否有口令最短和口令长度要求。检查系统用户是否有密码过期策略。
   - 网络与服务：查看主机开放的共享，关掉不必要的共享和系统默认的共享服务。查看主机进程信息。（不允许系统中安装有与应用服务无关的应用程序 ）查看系统启动的服务列表。查看系统启用的端口号 。查看系统是否制定操作系统的备份恢复策略服务。
   - 文件系统：文件系统的安全主要是检查主机磁盘分区类型和某些特定目录的权限 
   - 日志审核：日志的审核主要是检查主机日志的审核情况。它主要包括：应用程序日志、安全日志（用户登录系统的日志）、系统日志
   - 其它安全设置 ：系统补丁漏洞。登陆系统操作的用户的权限。病毒防治。系统日志是否有备份功能 。数据的备份与恢复。系统上卸载与无关组件或应用程序。

3. 数据库安全测试
   （1）限制能访问Oracle 数据库的客户端，指定的IP才可以访问，防止恶意的用户登陆
   （2）即使有访问 Oracle 数据库的机会，帐户的密码使用强口令和其他登陆策略，恶意用户也无法轻松进入
   （3）为每个登陆帐户设置了合适的权限，执行改变数据库状态的权限需要得到管理员的授权，确保了系统合法帐户对数据库的操作安全

4. IIS服务器安全测试

   1、IIS基础服务组件安装情况。（根据系统情况合理的安装，减少安装不必要的服务控件）
   2、查看IIS日志是否启用，日志存储路径以及日志记录选项 
   3、IIS主目录路径和目录访问权限的设置。（注意:1.目录建议不要和系统盘符设置在同一路径下，2.目录访问权限根据所在项目系统的实际情况来设置,通常只启用”读取”权限,记录访问和索引资料权限跟系统的安全无关都默认启用,因为所用的internet用户访问的目录就是IIS设定主目录）
   4、默认文档的启用。
   5、访问控制的身份验证。
   6、连接超时功能的设置（可以根据项目的安全要求具体的可参考系统需求规格说明书来进行合理的设置）。
   7、安全补丁的更新和安装情况

5. 网络环境安全测试：网络环境安全测试主要检测的是系统所在的网络环境安全设置,此测试可以根据项目本身的情况进行，或者可以忽略。主要包括：备份和升级情况、访问控制情况、网络服务情况、路由协议情况、日志审核情况、网络攻击防护情况、登陆标志、安全管理	

## 5.7 安装测试

安装测试是确保软件在正常情况和异常情况下，例如，进行首次安装、升级、完整的或自定义的安装都能进行安装的测试。
异常情况包括磁盘空间不足、缺少目录创建权限等场景。核实软件在安装后可立即正常运行。
安装测试包括测试安装代码以及安装手册。
安装手册提供如何进行安装，安装代码提供安装一些程序能够运行的基础数据。

## 5.8 可用性测试

可用性测试检查待测试软件的人机界面，通常要检查的部件包括界面布局与色彩、输入输出格式、程度流程和拼写等，以发现其中的人为因素和易用性的问题。
方法：让一群有代表性的用户尝试对产品进行典型操作，同时观察员和开发人员在一旁观察，聆听，做记录。该产品可能是一个网站，软件，或者其他任何产品，它可能尚未成型。测试可以是早期的纸上原型测试，也可以是后期成品的测试。

## 5.9 稳定性测试

主要尝试检测软件在其使用过程中性能是否稳定，以及是否会崩溃。



## 5.10 本地化和国际化测试

检测软件是否针对不同国家或地区进行适配和调整



## 5.11 可访问性测试

检测软件是否满足政府或软件行业颁布的可访问性规范，为各类用户扫除使用障碍



## 5.12 授权测试

授权是指获得允许去访问那些只有获得允许才能被使用的资源

授权测试是一种测试授权过程健壮性的方法，该方法通过理解授权工作原理和过程，利用这些信息来试图规避授权机制。

方法：在成功通过认证后，测试人员获得某些系统资源的使用授权，在获得该有效凭证之后，验证与定义的角色和权限设置相关的内容。在此过程中，测试人员设法寻找方法去穿越授权模式，或者通过遍历寻找漏洞，或者寻找方法升级所赋予的优先权利。



## 5.13 容错性测试

检查软件在异常条件下自身是否具有防护性的措施或某种灾难性恢复的手段。当系统出错时，能否在指定时间间隔内修正错误并重新启动系统。

容错性测试包括两个方面：

- 输入异常数据或进行异常操作，以检验系统的保护性。如果系统容错性好，系统能给出提示或内部消化掉，而不会导致系统出错甚至崩溃。
- 灾难恢复性测试，通过各种手段，让软件强制地发生发生故障，然后验证系统已保存的用户数据是否丢失，系统和数据是否能尽快恢复。



## 5.14 一致性测试

测试一个产品在效率或互通性方面是否符合某个指定的标准。



## 5.15 配置测试

主要是针对硬件而言，其测试过程是测试目标软件在具体硬件配置情况下，出不出现问题，为的是发现硬件配置可能出现的问题



## 5.16 文档测试

系统测试用户文档的正确性

包括开发文件、用户文件、管理文件



## 5.17 兼容性测试

待测试项目在特定的硬件平台上，不同的应用软件之间，不同的操作系统平台上，在不同的网络等环境中能正常的运行的测试。

目的：

- 待测试项目在不同的操作系统平台上正常运行，包括待测试项目能在同一操作系统平台的不同版本上正常运行；
- 待测试项目能与相关的其他软件或系统的“和平共处”；
- 待测试项目能在指定的硬件环境中正常运行；
- 待测试项目能在不同的网络环境中正常运行。



## 5.18 试玩

在一种游戏设计开发过程中，在游戏投放市场之前，为了检查发现游戏中潜在的错误，进一步改进游戏而采取的一种测试方法。



## 5.19 可恢复性测试

采用故障注入的测试方法：通过软件或硬件的方式模拟软件系统规定的故障模式，检查软件对硬件故障的自恢复能力。



## 5.20 卸载测试

对软件的全部、部分或升级卸载处理过程的测试。

主要是测试软件能否卸载，卸载是否干净，对系统有无更改，在系统中的残留与后来的生成文件如何处理等。还有原来更改的系统值是否修改回去。



## 5.21 能力测试

判断目标文档提及的每一项能力是否确实已经实现



## 5.22 健壮性测试

容错能力+恢复能力，包括容错性测试和恢复性测试两个方面的内容。

容错性测试是测试软件的鲁棒性，即软件在无效输入或压力环境条件下可以正确运行的程度。容错性测试一般通过构造一些不合理的输入来引诱软件出错

恢复性测试主要测试系统在出现故障时，是否能够自动恢复，或者能够忽略故障继续运行。 



## 5.23 穿越测试

构造测试用例来故意违反各种安全约束，其目的是验证输入检查，检查系统的鲁棒性和评估系统的安全性。

方法：穿越测试一般首先分析客户端的输入约束条件，建立各种可能的输入模型，结合典型的安全检查措施和一般的输入错误，综合利用这些信息来构造测试用例，试图通过安全检查进入服务器系统，达到破坏服务器数据库，甚至摧毁服务器系统的目的。



## 5.24 在线帮助测试

验证系统的实时在线帮助的可用性和正确性



## 5.25 数据转换测试

验证已存在的数据转换是否有效

审计能力；数据库验证；数据整理；恢复计划 



## 5.26 备份测试

验证系统在软件或硬件失效的事件中备份其数据的能力



## 5.27接口测试

对软件需求规格说明中的接口需求逐项进行的测试



## 5.28 人机交互界面测试

对所有人机交互界面提供的操作和显示界面进行测试，以检验是否满足用户要求



## 5.29 余量测试

保证程序执行过程中遇到资源以外的情况时，仍能维持正常运行状态



## 5.30 协议测试

- 一致性测试（Conformance ）：检测所实现的系统与协议规范符合程度；
- 性能测试（Performance ）：检测协议实体或系统的性能指标（数据传输率、联接时间，执行速度、吞吐量、并发度等）；
- 互操作性测试（Interoperability ）：检测同一协议不同实现版本之间、或同一类协议（如电子邮件协议X.400和SMTP）不同实现版本之间互通能力和互连操作能力；
- 坚固性测试（Robustness）：检测协议实体或系统在各种恶劣环境下运行的能力(信道被切断、通信技术掉电、注入干扰报文等)。



## 5.31 内存泄漏测试

使用 Memproof  Purify 等工具，有些开发工具本身自带内存检查机制。



## 5.32 存储测试 

系统测试存储功能：存储文件类型、存储介质文件



## 5.33 韧性测试

测试软件系统是否能有效应对各类运行异常和故障（尤其对于在难于预测的分布式环境中部署的软件系统）
