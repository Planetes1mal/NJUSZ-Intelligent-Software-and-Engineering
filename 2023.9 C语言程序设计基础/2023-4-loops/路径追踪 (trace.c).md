# 路径追踪 (trace.c)

## 题目描述

在 n×m 个点组成的地图上，每一个点可以用坐标 (x,y)（1≤x≤n,1≤y≤m）来表示。

地图上爬来了一只小蚂蚁，小蚂蚁从地图边界上的一点出发（形式化地说，从 $(x_0, y_0 )$（$x_0=1或x_0=n或y_0=1或y_0=m$ ）出发），在地图上留下了一条由 # 给出的路径，并在地图中的某个点停止运动。

小蚂蚁可以在每一步中选择以下 4 种方式之一移动，但它**不能移动到地图之外**（即移动完后的坐标依然合法），我们定义小蚂蚁在一步中能够移动到的位置集合为“相邻位置”：

(x,y)→(x+1,y)
(x,y)→(x,y+1)
(x,y)→(x−1,y)
(x,y)→(x,y−1)

小蚂蚁的移动路径非常特殊，移动路径并不会相交，也就是说，**从路径的起点出发，路径的每一个点的相邻位置中至多存在一个在路径上的、且之前没有走到过的点**。

给出小蚂蚁路径的初始位置，请你帮助小蚂蚁还原出对应的路径。

### 输入格式
第一行为 4 个整数 $n,m,x_0 ,y_0$，表示地图的大小和路径的起始位置 ($x_0, y_0$) ，保证 $1≤n,m≤50$ ，($x_0, y_0$) 在地图的边界上。

接下来给出一个 n×m 的字符串矩阵，矩阵中仅有 # 和 _ 两种字符，# 表示路径中的痕迹，而 _ 表示空地。保证给出的地图以及给出的路径满足描述中的所有性质。

输出格式
第一行输出一个整数 ans ，即路径的长度。

接下来有 ans 行，每行包含两个整数 $x_i, y_i$，表示路径中的每个点。

### 测试样例

##### Input

------

```
3 3 1 1
#__
___
___
```

##### Output

------

```
1
1 1
```

##### Input

------

```
1 5 1 5
#####
```

##### Output

------

```
5
1 5
1 4
1 3
1 2
1 1
```

##### Input

------

```
6 6 1 2
_#__##
_#___#
_#___#
_#####
______
______
```

##### Output

------

```
12
1 2
2 2
3 2
4 2
4 3
4 4
4 5
4 6
3 6
2 6
1 6
1 5
```

### 题目注解

可以使用 `bool vis[Maxn][Maxn]` 来表示一个点有 / 没有被走到过。

当站在一个点上时，可以“观察”它的相邻位置找到为 `#` 且没有被走到过的点，这样就找到了路径中的下一个点。

补充样例：

Input：

```
10 50 7 1
________#######___________________________________
________#_____#___________________________________
________#_____#_##########________________________
________#_____#_#________#________________________
________#_____#_#________#________________________
________#_____#_#____#####________________________
#_______#_____#_#____#____________________________
##______#_____#_#____##___________________________
_##_____#_____#_#_____###_________________________
__#######_____###_______#####_____________________
```

Output：

```
72
7 1
8 1
8 2
9 2
9 3
10 3
10 4
10 5
10 6
10 7
10 8
10 9
9 9
8 9
7 9
6 9
5 9
4 9
3 9
2 9
1 9
1 10
1 11
1 12
1 13
1 14
1 15
2 15
3 15
4 15
5 15
6 15
7 15
8 15
9 15
10 15
10 16
10 17
9 17
8 17
7 17
6 17
5 17
4 17
3 17
3 18
3 19
3 20
3 21
3 22
3 23
3 24
3 25
3 26
4 26
5 26
6 26
6 25
6 24
6 23
6 22
7 22
8 22
8 23
9 23
9 24
9 25
10 25
10 26
10 27
10 28
10 29
```

## 思路

1. **初始化变量和数据结构**
- 使用一个字符数组 `grid` 来存储输入的地图。
     
- 使用一个整数数组 `visited` 来标记每个位置是否被访问过，初始化时路径上的点标记为1，其他点标记为0。
     
- 使用一个方向数组 `directions` 存储蚂蚁可以移动的四个方向（上，下，左，右）。


2. **读取地图**
     - 读取地图的每个字符，并根据字符是 '#' 还是 '_' 来更新 `visited` 数组和路径长度 `path_length`。


3. **追踪路径**
     - 将起始点的坐标输出，并标记为已访问。
     
     - 迭代进行以下步骤，直到所有路径点都被访问：
     
      - 对于当前位置，检查其四个相邻的位置。
     
      - 如果相邻位置在地图范围内，且该位置是路径点（在 `grid` 中为 '#'），且未被访问过（在 `visited` 中为1）：
           - 更新当前位置到该相邻位置。
           - 将新的当前位置输出，并标记为已访问。


4. **结束**
     - 当所有路径点都被访问和输出后，算法结束。


这种方法依赖于通过迭代来找到路径中的每个连续点，并根据这些点的顺序重建路径。由于路径不会相交且每个点最多有一个未访问过的相邻路径点，所以这种方法可以准确地找到并输出完整路径。